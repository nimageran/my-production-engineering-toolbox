<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Dimension Converter | HUD</title>
  <style>
    :root {
      /* Palette */
      --bg-color: #050b14;
      --sidebar-bg: rgba(10, 18, 30, 0.95);
      --panel-bg: rgba(16, 26, 41, 0.75);
      --text-main: #e2e8f0;
      --text-muted: #94a3b8;
      
      /* Neon Accents */
      --neon-cyan: #00f0ff;
      --neon-amber: #ffaa00;
      --neon-border: rgba(0, 240, 255, 0.2);
      
      /* Sizing */
      --input-height: 50px;
    }

    * { box-sizing: border-box; }

    html, body { height: 100%; margin: 0; overflow: hidden; }

    body {
      font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
      background-color: var(--bg-color);
      /* Sci-fi Grid Background */
      background-image: 
        linear-gradient(rgba(0, 240, 255, 0.03) 1px, transparent 1px),
        linear-gradient(90deg, rgba(0, 240, 255, 0.03) 1px, transparent 1px);
      background-size: 40px 40px;
      color: var(--text-main);
      display: flex; /* MAIN LAYOUT SPLIT */
    }

    /* --- SIDEBAR (Navigation) --- */
    .sidebar {
      width: 260px;
      background: var(--sidebar-bg);
      border-right: 1px solid var(--neon-border);
      display: flex;
      flex-direction: column;
      padding: 20px;
      flex-shrink: 0;
    }

    .brand {
      margin-bottom: 40px;
      padding-left: 10px;
      border-left: 4px solid var(--neon-cyan);
    }

    .brand h1 {
      font-size: 1.2rem;
      margin: 0;
      text-transform: uppercase;
      letter-spacing: 2px;
      color: #fff;
      text-shadow: 0 0 10px rgba(0, 240, 255, 0.5);
    }

    .brand .sub {
      color: var(--neon-cyan);
      font-size: 0.75rem;
      margin-top: 5px;
      opacity: 0.8;
      font-family: monospace;
    }

    /* Nav Buttons */
    .nav-btn {
      background: transparent;
      color: var(--text-muted);
      border: 1px solid transparent;
      padding: 15px 20px;
      text-align: left;
      font-size: 1rem;
      cursor: pointer;
      transition: all 0.2s;
      text-transform: uppercase;
      letter-spacing: 1px;
      margin-bottom: 10px;
      border-radius: 4px;
      position: relative;
    }

    .nav-btn:hover {
      color: #fff;
      background: rgba(255,255,255,0.05);
    }

    /* Active Tab Style */
    .nav-btn.active {
      color: var(--neon-cyan);
      background: rgba(0, 240, 255, 0.1);
      border: 1px solid var(--neon-border);
      box-shadow: 0 0 15px rgba(0, 240, 255, 0.15);
    }
    .nav-btn.active::before {
      content: '►';
      position: absolute;
      left: 5px;
      font-size: 0.8rem;
    }

    /* --- MAIN CONTENT --- */
    .main-view {
      flex-grow: 1;
      padding: 40px;
      overflow-y: auto; /* Scroll only inside content if needed */
      position: relative;
      display: flex;
      justify-content: center;
      align-items: start;
    }

    /* Tab Content Logic */
    .tab-content {
      display: none; /* Hide all by default */
      width: 100%;
      max-width: 800px;
      animation: fadeIn 0.3s ease-in-out;
    }
    .tab-content.active {
      display: block; /* Show only active */
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    /* --- Cards (HUD Panels) - Reused Styles --- */
    .card {
      background: var(--panel-bg);
      border: 1px solid var(--neon-border);
      border-radius: 4px;
      padding: 30px; /* Slightly more padding for focus */
      backdrop-filter: blur(10px);
      box-shadow: 0 0 30px rgba(0,0,0,0.5);
      position: relative;
    }
    
    .card::before {
      content: ''; position: absolute; top: -1px; left: -1px; width: 20px; height: 20px;
      border-top: 2px solid var(--neon-cyan); border-left: 2px solid var(--neon-cyan);
    }
    .card::after {
      content: ''; position: absolute; bottom: -1px; right: -1px; width: 20px; height: 20px;
      border-bottom: 2px solid var(--neon-cyan); border-right: 2px solid var(--neon-cyan);
    }

    .section-title {
      font-size: 2rem; /* Larger title */
      font-weight: 300;
      margin: 0 0 30px;
      text-transform: uppercase;
      letter-spacing: 2px;
      border-bottom: 1px solid rgba(255,255,255,0.1);
      padding-bottom: 15px;
      color: #fff;
    }

    /* --- Fieldsets (Modules) --- */
    fieldset {
      border: 1px solid rgba(255,255,255,0.1);
      background: rgba(0,0,0,0.2);
      border-radius: 4px;
      padding: 20px;
      margin: 0 0 24px;
    }

    legend {
      padding: 0 10px;
      font-family: monospace;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .legend-chip {
      padding: 4px 12px;
      border-radius: 2px;
      font-weight: bold;
      font-size: 0.9rem;
      border: 1px solid currentColor;
      box-shadow: 0 0 8px currentColor;
    }

    fieldset[data-theme="imp"] { border-left: 4px solid var(--neon-amber); }
    fieldset[data-theme="imp"] .legend-chip { color: var(--neon-amber); background: rgba(255, 170, 0, 0.1); }
    
    fieldset[data-theme="met"] { border-left: 4px solid var(--neon-cyan); }
    fieldset[data-theme="met"] .legend-chip { color: var(--neon-cyan); background: rgba(0, 240, 255, 0.1); }

    /* --- Inputs --- */
    .group { display: grid; gap: 16px; }
    label { font-size: 1.1rem; color: var(--text-muted); display: block; margin-bottom: 8px; }
    .unit-paren { font-family: monospace; color: var(--text-main); opacity: 0.6; margin-right: 8px; }
    .input-wrap { position: relative; }

    input[type="number"], input[type="text"] {
      width: 100%; height: var(--input-height); padding: 10px 16px;
      font-size: 1.4rem; font-family: 'Consolas', 'Monaco', monospace;
      color: #fff; background: rgba(0,0,0,0.4);
      border: 1px solid rgba(255,255,255,0.2); border-radius: 4px;
      outline: none; transition: all 0.2s ease;
    }
    input[type="number"]:focus { border-color: var(--neon-cyan); box-shadow: 0 0 10px rgba(0, 240, 255, 0.3); }

    /* --- Buttons --- */
    .actions { display: flex; justify-content: flex-end; margin-top: 10px; }
    .btn {
      appearance: none; cursor: pointer; background: transparent;
      color: var(--text-main); border: 1px solid var(--text-muted);
      padding: 12px 24px; font-size: 1rem; text-transform: uppercase;
      letter-spacing: 1px; transition: all 0.3s ease; font-weight: 600;
    }
    .btn:hover {
      background: rgba(255,255,255,0.1); border-color: #fff;
      text-shadow: 0 0 5px #fff; box-shadow: 0 0 10px rgba(255,255,255,0.1);
    }
    .info { margin-top: 16px; color: var(--text-muted); font-size: 0.9rem; font-family: monospace; text-align: right; }
    .updated { background: rgba(255, 255, 255, 0.25) !important; transition: background 0.1s ease; }

    /* --- CALCULATOR STYLES --- */
    .calc-display {
      text-align: right;
      font-size: 2rem !important;
      margin-bottom: 20px;
      letter-spacing: 2px;
      text-shadow: 0 0 10px rgba(0, 240, 255, 0.3);
      border-color: var(--neon-cyan) !important;
    }
    .calc-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 12px;
    }
    .calc-btn {
      background: rgba(255,255,255,0.05);
      border: 1px solid rgba(255,255,255,0.1);
      color: #fff;
      font-size: 1.25rem;
      padding: 20px 0;
      border-radius: 4px;
      cursor: pointer;
      transition: all 0.1s;
      font-family: 'Consolas', monospace;
    }
    .calc-btn:hover { background: rgba(255,255,255,0.15); border-color: #fff; }
    .calc-btn:active { transform: scale(0.98); }
    
    .op-btn { color: var(--neon-cyan); border-color: rgba(0, 240, 255, 0.3); }
    .action-btn { color: var(--neon-amber); border-color: rgba(255, 170, 0, 0.3); }
    .eq-btn { 
      grid-column: span 4; 
      background: rgba(0, 240, 255, 0.15); 
      color: var(--neon-cyan);
      font-weight: bold;
      border-color: var(--neon-cyan);
    }
    
    .operator-note {
      margin-top: 25px;
      padding: 15px 20px;
      background: rgba(0, 0, 0, 0.3);
      border-left: 4px solid var(--text-muted);
      font-family: monospace;
      font-size: 0.85rem;
      color: var(--text-muted);
      line-height: 1.5;
    }
    .operator-note strong { color: #fff; }
    .operator-note em { color: var(--neon-cyan); font-style: normal; }

  </style>
</head>
<body>

  <nav class="sidebar">
    <div class="brand">
      <h1>Converter</h1>
      <div class="sub">V. 3.8 // Specialist Mode</div>
    </div>
    
    <button class="nav-btn active" onclick="showTab('tab-len', this)">Length</button>
    <button class="nav-btn" onclick="showTab('tab-mass', this)">Mass & Weight</button>
    <button class="nav-btn" onclick="showTab('tab-awg', this)">Wire Gauge</button>
    <button class="nav-btn" onclick="showTab('tab-calc', this)">Calculator</button>
  </nav>

  <main class="main-view">
    
    <div id="tab-len" class="tab-content active">
      <section class="card">
        <h2 class="section-title">Length</h2>
        <fieldset data-theme="imp">
          <legend><span class="legend-chip">Imperial</span></legend>
          <div class="group">
            <div><label for="inches"><span class="unit-paren">[in]</span>Inches</label><div class="input-wrap"><input id="inches" type="number" step="any" placeholder="0.00" /></div></div>
            <div><label for="feet"><span class="unit-paren">[ft]</span>Feet</label><div class="input-wrap"><input id="feet" type="number" step="any" placeholder="0.00" /></div></div>
          </div>
        </fieldset>
        <fieldset data-theme="met">
          <legend><span class="legend-chip">Metric</span></legend>
          <div class="group">
            <div><label for="millimeters"><span class="unit-paren">[mm]</span>Millimeters</label><div class="input-wrap"><input id="millimeters" type="number" step="any" placeholder="0.00" /></div></div>
            <div><label for="centimeters"><span class="unit-paren">[cm]</span>Centimeters</label><div class="input-wrap"><input id="centimeters" type="number" step="any" placeholder="0.00" /></div></div>
            <div><label for="meters"><span class="unit-paren">[m]</span>Meters</label><div class="input-wrap"><input id="meters" type="number" step="any" placeholder="0.00" /></div></div>
          </div>
        </fieldset>
        <div class="actions"><button class="btn" onclick="clearGroup(L_IDS)">Reset</button></div>
      </section>
    </div>

    <div id="tab-mass" class="tab-content">
      <section class="card">
        <h2 class="section-title">Mass & Weight</h2>
        <fieldset data-theme="imp">
          <legend><span class="legend-chip">Imperial</span></legend>
          <div class="group">
            <div><label for="pounds"><span class="unit-paren">[lb]</span>Pounds</label><div class="input-wrap"><input id="pounds" type="number" step="any" placeholder="0.00" /></div></div>
            <div><label for="ounces"><span class="unit-paren">[oz]</span>Ounces</label><div class="input-wrap"><input id="ounces" type="number" step="any" placeholder="0.00" /></div></div>
          </div>
        </fieldset>
        <fieldset data-theme="met">
          <legend><span class="legend-chip">Metric</span></legend>
          <div class="group">
            <div><label for="kilograms"><span class="unit-paren">[kg]</span>Kilograms</label><div class="input-wrap"><input id="kilograms" type="number" step="any" placeholder="0.00" /></div></div>
            <div><label for="grams"><span class="unit-paren">[g]</span>Grams</label><div class="input-wrap"><input id="grams" type="number" step="any" placeholder="0.00" /></div></div>
          </div>
        </fieldset>
        <div class="actions"><button class="btn" onclick="clearGroup(M_IDS)">Reset</button></div>
      </section>
    </div>

    <div id="tab-awg" class="tab-content">
      <section class="card">
        <h2 class="section-title">Wire Gauge (AWG)</h2>
        <fieldset data-theme="imp">
          <legend><span class="legend-chip">Standard</span></legend>
          <div class="group">
            <div><label for="awg_num"><span class="unit-paren">[#]</span>AWG Number</label><div class="input-wrap"><input id="awg_num" type="number" step="any" placeholder="20" /></div></div>
            <div><label for="awg_inch"><span class="unit-paren">[in]</span>Diameter</label><div class="input-wrap"><input id="awg_inch" type="number" step="any" placeholder="0.032" /></div></div>
          </div>
        </fieldset>
        <fieldset data-theme="met">
          <legend><span class="legend-chip">Physical</span></legend>
          <div class="group">
            <div><label for="awg_mm"><span class="unit-paren">[mm]</span>Diameter</label><div class="input-wrap"><input id="awg_mm" type="number" step="any" placeholder="0.81" /></div></div>
            <div><label for="awg_area"><span class="unit-paren">[mm²]</span>Area</label><div class="input-wrap"><input id="awg_area" type="number" step="any" placeholder="0.52" /></div></div>
          </div>
        </fieldset>
        
        <div class="actions">
          <button class="btn" onclick="clearGroup(A_IDS); document.getElementById('awg-status').innerHTML='Waiting for Input...';">Reset</button>
        </div>
        
        <div id="awg-status" class="info" style="font-weight: bold; margin-top: 20px;">Waiting for Input...</div>
        
        <div class="operator-note">
          <strong>TECHNICAL NOTE:</strong><br/>
          The AWG Number represents <em>manufacturing steps (pulls)</em>, not millimeters.<br/>
          • <strong>15 AWG</strong> = Pulled through dies 15 times.<br/>
          • <strong>20 AWG</strong> = Pulled through dies 20 times (Thinner).<br/>
          <span style="color:var(--neon-amber)">⚠ CAUTION: Do not confuse 15 AWG (1.45mm) with 1.5mm cable.</span>
        </div>
      </section>
    </div>

    <div id="tab-calc" class="tab-content">
      <section class="card">
        <h2 class="section-title">Calculator</h2>
        
        <input type="text" id="calc-display" class="calc-display" readonly placeholder="0" />
        
        <div class="calc-grid">
          <button class="calc-btn action-btn" onclick="calcClear()">C</button>
          <button class="calc-btn op-btn" onclick="calcAppend('(')">(</button>
          <button class="calc-btn op-btn" onclick="calcAppend(')')">)</button>
          <button class="calc-btn op-btn" onclick="calcAppend('/')">÷</button>
          
          <button class="calc-btn" onclick="calcAppend('7')">7</button>
          <button class="calc-btn" onclick="calcAppend('8')">8</button>
          <button class="calc-btn" onclick="calcAppend('9')">9</button>
          <button class="calc-btn op-btn" onclick="calcAppend('*')">×</button>
          
          <button class="calc-btn" onclick="calcAppend('4')">4</button>
          <button class="calc-btn" onclick="calcAppend('5')">5</button>
          <button class="calc-btn" onclick="calcAppend('6')">6</button>
          <button class="calc-btn op-btn" onclick="calcAppend('-')">-</button>
          
          <button class="calc-btn" onclick="calcAppend('1')">1</button>
          <button class="calc-btn" onclick="calcAppend('2')">2</button>
          <button class="calc-btn" onclick="calcAppend('3')">3</button>
          <button class="calc-btn op-btn" onclick="calcAppend('+')">+</button>
          
          <button class="calc-btn" onclick="calcAppend('0')">0</button>
          <button class="calc-btn" onclick="calcAppend('.')">.</button>
          <button class="calc-btn op-btn" onclick="calcAppend('**')">^</button>
          <button class="calc-btn op-btn" onclick="calcAppend('sqrt')">√</button>

          <button class="calc-btn eq-btn" onclick="calcSolve()">=</button>
        </div>

      </section>
    </div>

  </main>

  <script>
    // --- UI LOGIC (Tabs) ---
    function showTab(tabId, btnElement) {
      document.querySelectorAll('.tab-content').forEach(el => el.classList.remove('active'));
      document.querySelectorAll('.nav-btn').forEach(el => el.classList.remove('active'));
      document.getElementById(tabId).classList.add('active');
      btnElement.classList.add('active');
    }

    // --- CONVERSION LOGIC ---
    const PRECISION = 6;
    let isUpdating = false;

    const trimZeros = n => {
      const s = Number.isFinite(n) ? n.toFixed(PRECISION) : "";
      return s.replace(/\.?0+$/,"");
    };
    const flash = el => {
      el.classList.add('updated');
      setTimeout(()=>el.classList.remove('updated'), 250);
    };
    const clearGroup = ids => ids.forEach(id => document.getElementById(id).value = "");

    // LENGTH
    const L_toIn = { inches: v=>v, feet: v=>v*12, millimeters: v=>v/25.4, centimeters: v=>v/2.54, meters: v=>v/0.0254 };
    const L_fromIn = { inches: v=>v, feet: v=>v/12, millimeters: v=>v*25.4, centimeters: v=>v*2.54, meters: v=>v*0.0254 };
    const L_IDS = ['inches','feet','millimeters','centimeters','meters'];
    function convertLength(val, unit){
      if(isUpdating || val==='') return; isUpdating=true;
      const base = L_toIn[unit](parseFloat(val));
      L_IDS.forEach(u => { if(u!==unit) {
        document.getElementById(u).value = (base===0 || isNaN(base)) ? '' : trimZeros(L_fromIn[u](base));
        flash(document.getElementById(u));
      }});
      isUpdating=false;
    }

    // MASS
    const M_toLb = { pounds: v=>v, ounces: v=>v/16, kilograms: v=>v*2.20462, grams: v=>v*0.00220462 };
    const M_fromLb = { pounds: v=>v, ounces: v=>v*16, kilograms: v=>v/2.20462, grams: v=>v/0.00220462 };
    const M_IDS = ['pounds','ounces','kilograms','grams'];
    function convertMass(val, unit){
      if(isUpdating || val==='') return; isUpdating=true;
      const base = M_toLb[unit](parseFloat(val));
      M_IDS.forEach(u => { if(u!==unit) {
        document.getElementById(u).value = (base===0 || isNaN(base)) ? '' : trimZeros(M_fromLb[u](base));
        flash(document.getElementById(u));
      }});
      isUpdating=false;
    }

    // WIRE GAUGE
    const A_IDS = ['awg_num', 'awg_inch', 'awg_mm', 'awg_area'];
    function convertAWG(val, unit) {
      if(isUpdating || val==='') return; 
      isUpdating=true;
      
      let d_inch = 0, v = parseFloat(val);
      if(isNaN(v)) { isUpdating=false; return; }

      if(unit==='awg_num') d_inch = 0.005 * Math.pow(92, (36-v)/39);
      else if(unit==='awg_inch') d_inch = v;
      else if(unit==='awg_mm') d_inch = v/25.4;
      else if(unit==='awg_area') d_inch = (2 * Math.sqrt(v/Math.PI)) / 25.4;

      const calc_awg = -39 * (Math.log(d_inch/0.005)/Math.log(92)) + 36;
      const calc_mm = d_inch * 25.4;
      const calc_area = Math.PI * Math.pow(calc_mm/2, 2);
      
      const map = { awg_num: calc_awg, awg_inch: d_inch, awg_mm: calc_mm, awg_area: calc_area };
      
      A_IDS.forEach(u => { 
        if(u!==unit) {
          let out = map[u];
          if(u==='awg_num' && Math.abs(out-Math.round(out))<0.005) out = Math.round(out);
          document.getElementById(u).value = trimZeros(out);
          flash(document.getElementById(u));
        }
      });

      const statusEl = document.getElementById('awg-status');
      const checkVal = map['awg_num'];
      
      if (Math.abs(checkVal - Math.round(checkVal)) < 0.01) {
        statusEl.innerHTML = '<span style="color:var(--neon-cyan)">✓ STANDARD SIZE</span>';
      } else {
        statusEl.innerHTML = '<span style="color:var(--neon-amber)">⚠ THEORETICAL SIZE (NON-STANDARD)</span>';
      }

      isUpdating=false;
    }

    // --- CALCULATOR LOGIC ---
    let calcExpression = "";
    const calcDisp = document.getElementById('calc-display');

    function calcAppend(char) {
      if(char === 'sqrt') {
        calcExpression += 'Math.sqrt(';
      } else {
        calcExpression += char;
      }
      // Simple display update (for sqrt we show proper symbol if we wanted, but keeping it simple)
      calcDisp.value = calcExpression;
    }

    function calcClear() {
      calcExpression = "";
      calcDisp.value = "";
    }

    function calcSolve() {
      try {
        // Evaluate the string safely
        const result = Function('"use strict";return (' + calcExpression + ')')();
        calcDisp.value = trimZeros(result);
        calcExpression = result.toString();
        flash(calcDisp);
      } catch (e) {
        calcDisp.value = "Error";
        calcExpression = "";
      }
    }
    
    // Allow keyboard entry for calculator
    document.addEventListener('keydown', function(event) {
      if(document.getElementById('tab-calc').classList.contains('active')) {
        const key = event.key;
        if(/[0-9\+\-\*\/\.\(\)]/.test(key)) {
          calcAppend(key);
        } else if (key === 'Enter') {
          calcSolve();
        } else if (key === 'Backspace') {
           calcExpression = calcExpression.slice(0, -1);
           calcDisp.value = calcExpression;
        } else if (key === 'Escape') {
          calcClear();
        }
      }
    });

    // Listeners
    L_IDS.forEach(id=>document.getElementById(id).addEventListener('input',e=>e.target.value===''?clearGroup(L_IDS):convertLength(e.target.value,id)));
    M_IDS.forEach(id=>document.getElementById(id).addEventListener('input',e=>e.target.value===''?clearGroup(M_IDS):convertMass(e.target.value,id)));
    A_IDS.forEach(id=>document.getElementById(id).addEventListener('input',e=>e.target.value===''?clearGroup(A_IDS):convertAWG(e.target.value,id)));

  </script>
</body>
</html>
